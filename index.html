<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title><クソ打タイピングゲーム</title>
  <style>
    body { font-family: sans-serif; text-align: center; background-color: #f5f5f5; }
    h1 { margin-top: 30px; }
    #game { margin: 20px auto; padding: 20px; background: white; border-radius: 10px; width: 500px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    #word { font-size: 24px; margin: 10px 0; }
    #meaning { font-size: 18px; color: gray; }
    #input { width: 80%; padding: 10px; font-size: 18px; }
    #score, #timer { font-size: 20px; margin-top: 10px; }
    #result { font-size: 22px; margin-top: 20px; color: green; }
  </style>
</head>
<body>
  <h1>クソ打</h1>
  <div id="game">
    <div id="word">Loading...</div>
    <div id="meaning"></div>
    <input type="text" id="input" autofocus />
    <div id="score">Score: 0</div>
    <div id="timer">Time: 30</div>
    <div id="result"></div>
  </div>

  <script>
    const words = [
      { en: "apple", ja: "りんご" }, { en: "book", ja: "本" }, { en: "cat", ja: "猫" },
      { en: "dog", ja: "犬" }, { en: "egg", ja: "卵" }, { en: "fish", ja: "魚" },
      { en: "grape", ja: "ぶどう" }, { en: "hat", ja: "帽子" }, { en: "ice", ja: "氷" },
      { en: "juice", ja: "ジュース" }, { en: "kite", ja: "凧" }, { en: "lion", ja: "ライオン" },
      { en: "moon", ja: "月" }, { en: "nest", ja: "巣" }, { en: "orange", ja: "オレンジ" },
      { en: "pen", ja: "ペン" }, { en: "queen", ja: "女王" }, { en: "rose", ja: "バラ" },
      { en: "sun", ja: "太陽" }, { en: "tree", ja: "木" }, { en: "umbrella", ja: "傘" },
      { en: "violin", ja: "バイオリン" }, { en: "water", ja: "水" }, { en: "xylophone", ja: "木琴" },
      { en: "yarn", ja: "毛糸" }, { en: "zebra", ja: "シマウマ" }
    ];

    let score = 0;
    let time = 30;
    let currentWord = {};
    let index = 0;

    const wordEl = document.getElementById("word");
    const meaningEl = document.getElementById("meaning");
    const inputEl = document.getElementById("input");
    const scoreEl = document.getElementById("score");
    const timerEl = document.getElementById("timer");
    const resultEl = document.getElementById("result");

    function setNewWord() {
      currentWord = words[Math.floor(Math.random() * words.length)];
      wordEl.textContent = currentWord.en;
      meaningEl.textContent = `意味:${currentWord.ja}`;
      inputEl.value = "";
      index = 0;
    }

    inputEl.addEventListener("input", () => {
      const value = inputEl.value;
      if (value === currentWord.en) {
        score += 100;
        scoreEl.textContent = `Score: ${score}`;
        setNewWord();
      }
    });

    function startGame() {
      setNewWord();
      const timer = setInterval(() => {
        time--;
        timerEl.textContent = `Time: ${time}`;
        if (time <= 0) {
          clearInterval(timer);
          inputEl.disabled = true;
          resultEl.textContent = `ゲーム終了!最終スコア: ${score}`;
        }
      }, 1000);
    }

    startGame();
  </script>
</body>
</html>